{"version":3,"sources":["section-detection.js"],"names":["sidebarMenu","document","querySelector","sectionsToTrack","querySelectorAll","middleOfViewport","window","innerHeight","getElementsInViewport","elements","elementsInViewport","forEach","element","elementPosition","getBoundingClientRect","top","height","push","classList","remove","elementWithPriority","sort","a","b","activateMenuItem","idToActivate","currentActiveItem","itemToActivate","id","add","addEventListener"],"mappings":"AACA,IAAMA,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAApB;;AACA,IAAIF,WAAJ,EAAiB;AACf,GAAC,YAAY;AAEX,QAAMG,eAAe,GAAGF,QAAQ,CAACG,gBAAT,CAA0B,mBAA1B,CAAxB;AACA,QAAMC,gBAAgB,GAAGC,MAAM,CAACC,WAAP,GAAqB,CAA9C,CAHW,CAKX;;AACA,QAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAUC,QAAV,EAAoB;AAChD,UAAMC,kBAAkB,GAAG,EAA3B;AACAD,MAAAA,QAAQ,CAACE,OAAT,CAAiB,UAAUC,OAAV,EAAmB;AAClC,YAAMC,eAAe,GAAGD,OAAO,CAACE,qBAAR,EAAxB;;AACA,YAAID,eAAe,CAACE,GAAhB,GAAsB,CAAtB,IAA2BF,eAAe,CAACG,MAAhB,GAAyBH,eAAe,CAACE,GAAhB,GAAsB,CAAC,CAA/E,EAAkF;AAChFL,UAAAA,kBAAkB,CAACO,IAAnB,CAAwB;AAAEL,YAAAA,OAAO,EAAEA,OAAX;AAAoBG,YAAAA,GAAG,EAAEF,eAAe,CAACE;AAAzC,WAAxB;AACD,SAFD,MAEO,IAAIF,eAAe,CAACE,GAAhB,IAAuB,CAAvB,IAA4BF,eAAe,CAACE,GAAhB,GAAsBV,gBAAtD,EAAwE;AAC7EK,UAAAA,kBAAkB,CAACO,IAAnB,CAAwB;AAAEL,YAAAA,OAAO,EAAEA,OAAX;AAAoBG,YAAAA,GAAG,EAAEF,eAAe,CAACE;AAAzC,WAAxB;AACD,SAFM,MAEA;AACLH,UAAAA,OAAO,CAACM,SAAR,CAAkBC,MAAlB,CAAyB,QAAzB;AACD;AACF,OATD;AAUA,aAAOT,kBAAP;AACD,KAbD,CANW,CAqBX;;;AACA,QAAMU,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAY;AACtC,UAAMV,kBAAkB,GAAGF,qBAAqB,CAACL,eAAD,CAAhD;AACAO,MAAAA,kBAAkB,CAACW,IAAnB,CAAwB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtC,YAAID,CAAC,CAACP,GAAF,GAAQ,CAAZ,EAAe;AACbO,UAAAA,CAAC,CAACP,GAAF,GAAQO,CAAC,CAACP,GAAF,GAAQ,CAAC,CAAjB;AACD;;AACD,YAAIQ,CAAC,CAACR,GAAF,GAAQ,CAAZ,EAAe;AACbQ,UAAAA,CAAC,CAACR,GAAF,GAAQQ,CAAC,CAACR,GAAF,GAAQ,CAAC,CAAjB;AACD;;AACD,eAAOO,CAAC,CAACP,GAAF,GAAQQ,CAAC,CAACR,GAAjB;AACD,OARD;AASA,aAAOL,kBAAkB,CAAC,CAAD,CAAzB;AACD,KAZD,CAtBW,CAoCX;AACA;;;AACA,QAAMc,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAY;AACnC,UAAMC,YAAY,GAAGL,mBAAmB,EAAxC;AACA,UAAMM,iBAAiB,GAAGzB,QAAQ,CAACC,aAAT,CAAuB,2BAAvB,CAA1B;;AACA,UAAIwB,iBAAJ,EAAuB;AACrBA,QAAAA,iBAAiB,CAACR,SAAlB,CAA4BC,MAA5B,CAAmC,QAAnC;AACD;;AACD,UAAIM,YAAJ,EAAkB;AAChB,YAAME,cAAc,GAAG1B,QAAQ,CAACC,aAAT,CAAuB,oBAAoBuB,YAAY,CAACb,OAAb,CAAqBgB,EAAzC,GAA8C,IAArE,CAAvB;AACAD,QAAAA,cAAc,CAACT,SAAf,CAAyBW,GAAzB,CAA6B,QAA7B;AACD;AACF,KAVD;;AAYAL,IAAAA,gBAAgB;AAChBlB,IAAAA,MAAM,CAACwB,gBAAP,CAAwB,QAAxB,EAAkCN,gBAAlC;AAED,GArDD;AAsDD","file":"section-detection.5c037733.js","sourceRoot":"..","sourcesContent":["\nconst sidebarMenu = document.querySelector('.sidebar-menu');\nif (sidebarMenu) {\n  (function () {\n    \n    const sectionsToTrack = document.querySelectorAll('.section-to-track');\n    const middleOfViewport = window.innerHeight / 2;\n    \n    // Returns array of elements that are in range - top(0px) - middleOfViewport.\n    const getElementsInViewport = function (elements) {\n      const elementsInViewport = [];\n      elements.forEach(function (element) {\n        const elementPosition = element.getBoundingClientRect();\n        if (elementPosition.top < 0 && elementPosition.height > elementPosition.top * -1) {\n          elementsInViewport.push({ element: element, top: elementPosition.top });\n        } else if (elementPosition.top >= 0 && elementPosition.top < middleOfViewport) {\n          elementsInViewport.push({ element: element, top: elementPosition.top });\n        } else {\n          element.classList.remove('active'); \n        }\n      })\n      return elementsInViewport;\n    }\n\n    // Returns Element whos top position is closest to the top.\n    const elementWithPriority = function () {\n      const elementsInViewport = getElementsInViewport(sectionsToTrack);\n      elementsInViewport.sort(function (a, b) {\n        if (a.top < 0) {\n          a.top = a.top * -1;\n        }\n        if (b.top < 0) {\n          b.top = b.top * -1;\n        }\n        return a.top - b.top\n      });\n      return elementsInViewport[0];\n    }\n\n    // This function gets run on load and page scroll.\n    // Add active class to menu Item if tracked section is in range.\n    const activateMenuItem = function () {\n      const idToActivate = elementWithPriority();\n      const currentActiveItem = document.querySelector('.sidebar-menu li a.active');\n      if (currentActiveItem) {\n        currentActiveItem.classList.remove('active');\n      }\n      if (idToActivate) {\n        const itemToActivate = document.querySelector('[data-section=\"' + idToActivate.element.id + '\"]');\n        itemToActivate.classList.add('active');\n      }\n    }\n\n    activateMenuItem();\n    window.addEventListener('scroll', activateMenuItem);\n  \n  })()\n}\n"]}